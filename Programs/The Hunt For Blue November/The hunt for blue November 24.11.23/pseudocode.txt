PROCEDURE threeD_movement(x, y, z, heading, pitch, speed, delta_time)
    # Convert angles to radians
    heading_rad = radians(heading)
    pitch_rad = radians(pitch)
    
    # Calculate changes in each coordinate
    dx = delta_time * speed * cos(pitch_rad) * sin(heading_rad)  # east-west
    dy = delta_time * speed * sin(pitch_rad)                    # vertical
    dz = delta_time * speed * cos(pitch_rad) * cos(heading_rad)  # north-south
    
    # Calculate new coordinates
    new_x = x + dx
    new_y = y + dy
    new_z = z + dz
    
    RETURN new_x, new_y, new_z
END PROCEDURE

PROCEDURE twohalfD_movement(x, y, z, tgt_y, y_speed, heading, speed, delta_time)
    # Convert angles to radians
    heading_rad = radians(heading)

    # Vertical
    dy = tgt_y - y
    y_speed = y_speed * delta_time
    IF dy < y_speed AND dy > -y_speed THEN
        new_y = tgt_y
    ELSE
        IF tgt_y < y THEN
            new_y = y - y_speed
        ELSE
            new_y = y + y_speed
        END IF
    END IF
    
    # Calculate changes in each coordinate
    dx = delta_time * speed * sin(heading_rad)  # east-west
    dz = delta_time * speed * cos(heading_rad)  # north-south
    
    # Calculate new coordinates
    new_x = x + dx
    new_z = z + dz
    
    RETURN new_x, new_y, new_z
END PROCEDURE

